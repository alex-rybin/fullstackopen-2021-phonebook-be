(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(14),r=t.n(c),u=t(3),a=t(1),o=t(0),i=function(e){var n=e.value,t=e.onChange;return Object(o.jsxs)(o.Fragment,{children:["filter shown with ",Object(o.jsx)("input",{onChange:function(e){return t(e.target.value)},value:n})]})},s=function(e){var n=e.name,t=e.number,c=e.onNameChange,r=e.onNumberChange,u=e.onSubmit;return Object(o.jsxs)("form",{onSubmit:u,children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{onChange:function(e){return c(e.target.value)},value:n})]}),Object(o.jsxs)("div",{children:["number: ",Object(o.jsx)("input",{onChange:function(e){return r(e.target.value)},value:t})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},b=function(e){var n=e.name,t=e.number,c=e.onDeleteClick;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{children:[n," ",t]},n),Object(o.jsx)("button",{onClick:c,children:"delete"}),Object(o.jsx)("br",{})]})},j=function(e){var n=e.persons,t=e.filter,c=e.onDeleteClick;return Object(o.jsx)(o.Fragment,{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(o.jsx)(b,{name:e.name,number:e.number,onDeleteClick:function(){return c(e.id)}},e.id)}))})},d=t(4),l=t.n(d),f="/persons/",h={getAll:function(){return l.a.get(f).then((function(e){return e.data}))},create:function(e){return l.a.post(f,e).then((function(e){return e.data}))},deleteContact:function(e){return l.a.delete("".concat(f).concat(e,"/")).then((function(e){return e.data}))},update:function(e,n){return l.a.put("".concat(f).concat(e,"/"),n).then((function(e){return e.data}))}},m=function(e){var n=e.message,t=e.type;return n&&Object(o.jsx)("div",{className:t,children:n})},O=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),b=Object(u.a)(r,2),d=b[0],l=b[1],f=Object(a.useState)(""),O=Object(u.a)(f,2),p=O[0],v=O[1],x=Object(a.useState)(""),g=Object(u.a)(x,2),C=g[0],w=g[1],k=Object(a.useState)(null),S=Object(u.a)(k,2),D=S[0],y=S[1],N=Object(a.useState)("success"),A=Object(u.a)(N,2),F=A[0],E=A[1];Object(a.useEffect)((function(){h.getAll().then((function(e){c(e)}))}),[]);var I=function(e,n){E(n),y(e),setTimeout((function(){return y(null)}),5e3)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(m,{message:D,type:F}),Object(o.jsx)(i,{value:C,onChange:w}),Object(o.jsx)("h2",{children:"Add new"}),Object(o.jsx)(s,{name:d,number:p,onNameChange:l,onNumberChange:v,onSubmit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===d}));n?window.confirm("".concat(d," is already added to phonebook, replace the old number with a new one?"))&&h.update(n.id,{name:d,number:p}).then((function(e){c(t.filter((function(e){return e.id!==n.id})).concat(e)),I("Updated phone number for ".concat(d),"success"),l(""),v("")})):h.create({name:d,number:p}).then((function(e){c(t.concat(e)),I("Added ".concat(d),"success"),l(""),v("")}))}}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)(j,{filter:C,persons:t,onDeleteClick:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n,"?"))&&h.deleteContact(e).then((function(){c(t.filter((function(n){return n.id!==e}))),I("Deleted ".concat(n),"success")})).catch((function(){I("Information of ".concat(n," has already been removed from server"),"error")}))}})]})};t(38);r.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.f112e34b.chunk.js.map